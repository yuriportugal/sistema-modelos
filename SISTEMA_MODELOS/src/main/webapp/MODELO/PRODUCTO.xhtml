<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">
    
       <p:panel id="panelProd" >
           <p:growl id="growlProducto" showDetail="true" sticky="true" />   
           <h:panelGrid columns="1" width="100%" >
                <p:panel header="Edición/Creación" styleClass="width=50%;">
                     <p:panelGrid   style="width:100%;border:0px;"   id="panelProductoMod"    >  
                       <p:row>   
                            <p:column   style="width:25%" >
                                <h:outputLabel value="Producto: *" />
                            </p:column>
                            <p:column   style="width:25%" >
                                <p:selectOneMenu id="productoModel"  value="#{productoModeloControlador.currentProductoModeloDetalle.producto.idproducto}">
                                    <f:selectItem  itemLabel="Seleccione un producto" itemValue="#{null}"></f:selectItem>
                                    <f:selectItems value="#{productoModeloControlador.lstProducto}" var="producto" itemLabel="#{producto.nombre}" itemValue="#{producto.idproducto}"></f:selectItems>
                                </p:selectOneMenu></p:column>
                            <p:column   style="width:25%" >
                                <h:outputLabel value="Precio de venta: *" />
                            </p:column>
                            <p:column   style="width:25%" >
                                <p:inputText  id="precioVenta"   size="30" value="#{productoModeloControlador.currentProductoModeloDetalle.precioVenta}"/>
                            </p:column>
                       </p:row> 
                         
                         
                     <p:row>   
                            <p:column   style="width:25%"  >
                            <h:outputLabel value="Stock inicial: *" />
                            </p:column>
                            <p:column   style="width:25%" >
                                <p:inputText id="stockInicial"   size="30" value="#{productoModeloControlador.currentProductoModeloDetalle.stockInicial}"/>
                            </p:column>
                            <p:column   style="width:25%" >
                            <h:outputLabel value="Vol. de venta: *" />
                            </p:column>
                            <p:column   style="width:25%" >
                                <p:inputText id="volVenta"   size="30" value="#{productoModeloControlador.currentProductoModeloDetalle.volumenVenta}" />
                            </p:column>
                       </p:row> 
                         
                       <p:row>   
                            <p:column   style="width:25%"  >
                            <h:outputLabel value="Días (Políticas de stock): *" />
                            </p:column>
                            <p:column   style="width:25%" >
                                <p:inputText id="politicasDias"   size="30" value="#{productoModeloControlador.currentProductoModeloDetalle.politicaDias}"/>
                            </p:column>
                            <p:column   style="width:25%" >
                            <h:outputLabel value="Stock mínimo (Políticas de stock) *" />
                            </p:column>
                            <p:column   style="width:25%" >
                                <p:inputText id="politicasStock"   size="30" value="#{productoModeloControlador.currentProductoModeloDetalle.politicaStockMin}" />
                            </p:column>
                       </p:row>   
                       
                       <p:row>
                            <p:column   style="width:25%" >
                                <h:outputLabel value="Unidad de venta: *" />
                            </p:column>
                            <p:column colspan="3"   style="width:25%" >
                                <p:selectOneMenu id="unidadModel"  value="#{productoModeloControlador.currentProductoModeloDetalle.unidadPresentacion.idUnidad}">
                                    <f:selectItem  itemLabel="Seleccione una unidad" itemValue="#{null}"></f:selectItem>
                                    <f:selectItems value="#{productoModeloControlador.lstUnidad}" var="unidad" itemLabel="#{unidad.nombre}" itemValue="#{unidad.idUnidad}"></f:selectItems>
                                </p:selectOneMenu>
                            </p:column>
                            <p:column   style="width:25%" >
                                <h:outputLabel value="Unidad de produccion: *" />
                            </p:column>
                            <p:column colspan="3"   style="width:25%" >
                                <p:selectOneMenu id="unidadModelPresentacion"  value="#{productoModeloControlador.currentProductoModeloDetalle.unidad.idUnidad}">
                                    <f:selectItem  itemLabel="Seleccione una unidad" itemValue="#{null}"></f:selectItem>
                                    <f:selectItems value="#{productoModeloControlador.lstUnidad}" var="unidad" itemLabel="#{unidad.nombre}" itemValue="#{unidad.idUnidad}"></f:selectItems>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row> 
                     
                             <p:row>
                             <p:column>
                                 <h:outputLabel value="Formulación Maquinarías" />
                             </p:column>
                             <p:column>
                                 <p:commandButton value="Abrir" action="#{productoModeloControlador.editarProdModelFormuMaquinaria()}" />
                             </p:column>
                         </p:row>  
                         <p:row>
                             <p:column>
                                 <h:outputLabel value="Formulación Insumos" />
                             </p:column>
                             <p:column>
                                 <p:commandButton value="Abrir" action="#{productoModeloControlador.editarProdModelFormuInsumo()}" />
                             </p:column>
                         </p:row>
                         <p:row>
                             <p:column>
                                 <h:outputLabel value="Formulación Personal" />
                             </p:column>
                             <p:column>
                                 <p:commandButton value="Abrir" action="#{productoModeloControlador.editarProdModelFormuPersonal()}"/>
                             </p:column>
                         </p:row>
                     
                         
                        <p:row>   
                            <p:column colspan="2"  style="width:25%" >
                                <p:commandButton value="Agregar" action="#{productoModeloControlador.agregarProductoModelo()}"/>
                            </p:column>
                            <p:column colspan="2"  style="width:25%" >
                            <p:commandButton value="Cancelar" />    
                            </p:column>
                       </p:row>   
                          
                     </p:panelGrid>
                    
                </p:panel>
                
                <p:panel header="Listado"  styleClass="width=50%;">
                    <p:dataTable   rendered="true"  id="tablaProductoModelo" var="productoModel"  selectionMode="single" rowKey="#{productoModel.producto.idproducto}" value="#{productoModeloControlador.lstProductoModeloDetalle}" scrollable="true"  >  
                   
                    <p:column style="width:90px;"  headerText="Producto" >  
                       <h:outputText  value="#{productoModel.producto.nombre}" />  
                    </p:column>  
                        
                    <p:column style="width:90px;"  headerText="Unidad Prod." >  
                        <h:outputText  value="#{productoModel.unidad.nombre}" />  
                    </p:column>      
                    
                    <p:column style="width:90px;"  headerText="Unidad Prod." >  
                        <h:outputText  value="#{productoModel.unidadPresentacion.nombre}" />  
                    </p:column>    
                        
                    <p:column style="width:75px;" headerText="Precio Venta" >  
                        <h:outputText  value="#{productoModel.precioVenta}" />  
                    </p:column>  

                    <p:column  style="width:75px;" headerText="Stock Ini" >  
                        <h:outputText value="#{productoModel.stockInicial}" />  
                    </p:column>  
                    
                    <p:column style="width:75px;" headerText="Vol Venta" >  
                        <h:outputText value="#{productoModel.volumenVenta}" />  
                    </p:column>  
                   
                    <p:column style="width:75px;" headerText="Dias Pol." >  
                        <h:outputText value="#{productoModel.politicaDias}" />  
                    </p:column>  
                        
                    <p:column style="width:75px;" headerText="Stock Pol." >  
                        <h:outputText value="#{productoModel.politicaStockMin}" />  
                    </p:column>      
                        
                    <p:column  style="width:25px;">  
                        <p:commandButton icon="ui-icon-pencil" action="#{productoModeloControlador.editarProductoModelo()}"  >
                            <f:setPropertyActionListener value="#{productoModel}" target="#{productoModeloControlador.currentProductoModeloDetalle}" />  
                        </p:commandButton>
                    </p:column>  
                    
                   <p:column  style="width:25px;">  
                        <p:commandButton icon="ui-icon-close" action="#{productoModeloControlador.eliminarProductoModelo()}"  >
                            <f:setPropertyActionListener value="#{productoModel}" target="#{productoModeloControlador.currentProductoModeloDetalle}" />  
                        </p:commandButton>
                    </p:column>       
                   
                </p:dataTable>
                    
                </p:panel>  
            </h:panelGrid>
            
        </p:panel>
        
    <p:dialog id="FormularioInsumoDlg" dynamic="true" widgetVar="formularioDlgProd" header="Formulación de Insumos x Producto" >
        <ui:include src="/MODELO/POPUPINSUMO.xhtml" /> 
    </p:dialog>
    
    <p:dialog id="FormularioPersonalDlg"  widgetVar="FormularioPersonalDlg" header="Formulación de Personal por Producto">
        <ui:include src="/MODELO/POPUPPERSONAL.xhtml" /> 
    </p:dialog>
    
    <p:dialog id="FormularioMaquinariaDlg"  widgetVar="FormularioMaquinariaDlg" header="Formulación de Maquinaria por Producto">
        <ui:include src="/MODELO/POPUPMAQUINARIA.xhtml" /> 
    </p:dialog>
    
    
</ui:composition>